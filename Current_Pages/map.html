<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
<style>
/*NOTE- These are the STEAM colors that we are using for the org bcgs:
(Green)- Science: #8ac926
(Blue)- Technology: #1982c4
(Purple)- Engineering: #6a4c93
(Orange)- Art: #ffca3a
(Red)- Math: #ff595e
*/
body {
	user-select:none;
  font-family: 'Montserrat', sans-serif;
}
  .bodyContent {
  	margin-left:7%;
    margin-right:7%;
  }
  p {
  	font-size:16px; /*note that 16px is the default font size for p tags*/
  }
  img {
  	width:100%;
    height:auto;
  }
  .imgC {
  	position:relative;
  	/*background-color:black; /*used to be #a6a6a6*/
    border:1px solid black; /*used to be 7px*/
    max-width:1300px;
    margin-right:auto;
    margin-left:auto;
    overflow:hidden;
  }
  .page-link {
  	cursor:pointer;
  }
  #enlarge {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #enlarge:hover {
    filter: brightness(230%);
    cursor: pointer;
  }
  #zoomIn {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #zoomIn:hover {
    filter: brightness(90%);
    cursor: pointer;
  }
  #zoomOut {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #zoomOut:hover {
    filter: brightness(90%);
    cursor: pointer;
  }
  .imgC2 {
  	position:absolute;
    top:15px;
    right:15px;
  }
  .imgC3 {
  	position:absolute;
    bottom:30%; /*this used to be 100px*/
    right:15px;
  }
  .imgC4 {
  	position:absolute;
    /*bottom:10%; /*this used to be 50px*/
    right:15px;
    bottom: calc(30% - 10vmin);
  }
  .imgC5 {
  	position:absolute;
    display:block;
    bottom:0px;
    left:60px;
    width:75%;
    max-width:600px;
    background-color:rgba(25,130,196,0.7);
    color:white;
    padding:10px;
    height:84px;
  }
  .legendC {
    position:absolute;
    left:0px;
    top:0px;
    color:white;
    z-index:99;
    width:25%;
    height:calc(100% - 84px); /*or try 35vmin*/
    background-color:rgba(23,120,181,0.9);
    display:none;
    transition:display 5s;
  }
  .topBar {
    position:relative;
    padding:10px;
    background-color:#1778b5;
    font-weight:bold;
    font-size:24px;
  }
  .legendC ul {
    list-style-type:none;
    margin:0;
    padding:0;
  }
  .legendC ul li {
    margin-top:4px;
    text-decoration:underline;
    padding-top:4px;
    padding-bottom:4px;
    padding-left:30px;
    border-left:5px solid rgba(53,161,227,0.0);
  }
  .legendC ul li:hover {
    background-color:rgba(15,75,112,0.9);
    border-left:5px solid rgba(53,161,227,0.9);
    cursor:pointer;
  }
  .legendC ul li:first-child {
    margin-top:7%;
  }
  .imgC6 {
  	position:absolute;
    left:15px;
    top:15px;
  }
  #moreInfo {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #moreInfo:hover {
    filter: brightness(90%);
    cursor: pointer;
  }
  .closeInfo {
            position:absolute;
            top:1px;
            right:12px;
            color:white;
            /*z-index:99;*/
            font-size:30px;
            font-weight:bold;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
            padding:4px;
        }
  .closeInfo:hover {
  	color:black;
    cursor: pointer;
  }
  .legendCMobile {
    color:white;
    z-index:99;
    width:100%;
    height:80%;
    background-color:rgba(23,120,181,0.9);
    display:none;
  }
  .topBar {
    position:relative;
    padding:10px;
    background-color:#1778b5;
    font-weight:bold;
    font-size:24px;
  }
  .legendCMobile ul {
    list-style-type:none;
    margin:0;
    padding:0;
  }
  .legendCMobile ul li {
    margin-top:4px;
    text-decoration:underline;
    padding-top:10px;
    padding-bottom:10px;
    text-align:center;
  }
  .legendCMobile ul li:hover {
    background-color:rgba(15,75,112,0.9);
    cursor:pointer;
  }
  .legendCMobile ul li:first-child {
    margin-top:calc(4px + 2%);
  }
  .imgC6Mobile {
  	position:absolute;
    left:15px;
    top:15px;
    display:none;
  }
  .closeInfoMobile {
            position:absolute;
            top:1px;
            right:12px;
            color:white;
            /*z-index:99;*/
            font-size:30px;
            font-weight:bold;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
            padding:4px;
        }
  .closeInfoMobile:hover {
  	color:black;
    cursor: pointer;
  }
  .infoData { /*this has the grid that contains the room data*/
  	display:grid;
    grid-template-columns:50% 50%;
    height:auto;
    width:100%;
  }
  .orgImgs {
    position:relative;
  	display:grid;
    overflow:visible;
    /*grid-template-columns:33% 33% 33%;*/
    grid-template-columns:auto auto auto;
    width:100%;
    height:auto;
    float:left;
  }
  .orgImgs img{
    object-fit:cover;
  }
  .orgImgsObj{
  	width:40px;
    height:40px;
    border-radius:50%;
    overflow:hidden;
    background-color:black;
    margin-right:5px;
    z-index:2;
  }
  .orgImgsObj:last-child {
  	margin-right:0px;
  }
  .orgImgsPopup {
    position:absolute;
    background-color:#6a4c93;
    color:white;
    font-size:16px;
    padding:2px;
    height:auto;
    min-height:40px;
    width:auto;
    z-index:1;
    border-radius:20px;
    left:0px;
    bottom:0;
    padding-left:18px;
    padding-right:5px;
    display:none;
  }
  .orgImgsPopTxt {
    text-align:right;
  }
  .orgImgsC {
  	display:inline-block;
    overflow:visible;
  }
  .orgsTxt {
    display:block;
    padding-top:8px;
    float:left;
    margin-right:6px;
  }
  .leftBox {
    position:absolute;
    left:0px;
    bottom:0px;
    display:block;
    background-color:#34a1e5;
    width:60px;
    height:50px;
    /*border-left:1px solid black;
    border-bottom:1px solid black;*/
  }
  /*Note- this is for all of the zoom img stuff*/
          .zoomImgC {
            position:fixed;
            width:100%;
            height:100%;
            background-color:rgba(0,0,0,0.85);
            z-index:99;
            top: 0%;
            left: 0%;
            display:none;
            text-align:center;
        }
        .zoomImg{
            position:absolute;
            left:50%;
            top:50%;
            /*margin-top:-40vmin;*/
            transform: translate(-50%, -50%);
            grid-column:2 / 3;
            height:auto;
            width:97%;
          	max-width:1000px;
        }
        .close {
            position:fixed;
            top:5%;
            right:40px;
            color:white;
            z-index:99;
            font-size:30px;
            font-weight:bold;
            display:none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
            padding:4px;
        }
  .close:hover {
  	filter:brightness(60%);
    cursor: pointer;
  }
  .roomToggle {
    border-radius:20px;
    color:white;
    background-color:#34a1e5;
    padding:5px;
    font-size:16px;
    position:absolute;
    left:20px;
    top:70%;
  }
  .roomToggle:hover {
    filter:brightness(90%);
    cursor:pointer;
  }
  .imgC5Mobile {
    display:none;
  }
  .infoDataMobile {
    text-align:center;
    margin-left:auto;
    margin-right:auto;
  }
  .infoDataMobile div:last-child {
    padding-bottom:6px;
  }
  .orgImgsMobile {
    width:100%;
    height:auto;
  }
  .orgImgsMobile img{
    object-fit:cover;
  }
  .orgImgsMobile div {
    position:relative;
    width:200px;
    height:40px;
    border-radius:20px;
    background-color:#8ac926;
    margin-bottom:5px;
    color:white;
    font-size:13px;
    text-align:center;
  }
  .orgImgsMobile div:last-child {
    margin-bottom:0px;
  }
  .orgImgsMobile div:hover {
    filter: brightness(90%);
    cursor:pointer;
  }
  .orgImgsMobile div .insideTxt {
    width:140px;
    height:auto;
    padding-left:16px;
    background-color:rgba(0,0,0,0.0);
    border-radius:0%;
  }
  .orgImgsMobile div .insideImg{
  	position:absolute;
    width:40px;
    height:40px;
    padding:0px;
    border-radius:50%;
    overflow:hidden;
    background-color:black;
    right: 0px;
    top:0px;
  }
  #floorNavMobile {
    display:none;
  }
  #iMap:hover {cursor: -webkit-grab; cursor: grab;}
  #iMap:active {cursor: -webkit-grabbing; cursor: grabbing;}
  .courseNm {
  	color:white;
  }
  .courseNm:hover {
  	color:#808080;
  }
  .leftBoxMobile {
    display:none;
  }
  .imgC8 {
    display:none;
  }
  .noShow {
    display:none !important;
  }
  .imgC9 {
  	position:absolute;
    top:5%;
    left:12%;
  }
  .imgC9 h2 {
    font-weight:bold;
    font-size:4vmin; /*this used to be 34px*/
  }
  @media (max-height: 500px){
		.close {
			filter:brightness(10%);
		}
  }
  @media (min-width: 750px){
		.imgC3 {
			right:30px;
		}
    .imgC4 {
			right:30px;
		}
  }
  @media (min-width: 1050px){
		.imgC9 {
      left:9%;
    }
  }
  @media (min-width: 1450px){
		.imgC9 h2 {
      font-size:4.5vmin;
    }
  }
  @media (max-width:1194px){
    .roomToggle {
    border-radius:20px;
    color:white;
    background-color:#34a1e5;
    padding:0.5vmin;
    position:absolute;
    left:20px;
    top:70%;
    font-size:80%;
  }
  .roomToggle:hover {
    filter:brightness(90%);
    cursor:pointer;
  }
  #B018 {
    display:none;
  }
  }
  @media (max-width:915px){
    .roomToggle {
    border-radius:20px;
    color:white;
    background-color:#34a1e5;
    padding:0.5vmin;
    position:absolute;
    left:20px;
    top:70%;
    font-size:70%;
  }
  .roomToggle:hover {
    filter:brightness(90%);
    cursor:pointer;
  }
  }
  @media (max-width:710px){
    .roomToggle {
    border-radius:20px;
    color:white;
    background-color:#34a1e5;
    padding:0.2vmin;
    position:absolute;
    left:20px;
    top:70%;
    font-size:60%;
  }
  .roomToggle:hover {
    filter:brightness(90%);
    cursor:pointer;
  }
  }
  @media (max-width:570px){
    .roomToggle {
    border-radius:20px;
    color:white;
    background-color:#34a1e5;
    padding:0.1vmin;
    position:absolute;
    left:20px;
    top:70%;
    font-size:55%;
  }
  .roomToggle:hover {
    filter:brightness(90%);
    cursor:pointer;
  }
  }
  @media (max-width:820px){
    .leftBox {
      display:none;
    }
    .imgC5{
      width:80%;
      left:0px;
      display:none;
    }
    .imgC5Mobile {
      display:block;
      margin-right:auto;
      margin-left:auto;
      background-color:rgba(25,130,196,0.7);
      color:white;
      padding-top:7px;
      padding-left:10px;
      margin-bottom:10px;
      font-size:18px;
    }
    .leftBoxMobile {
      display:block;
      background-color:#34a1e5;
      height:20px;
    }
    #floorNavMobile {
      display:block;
    }
    #floorNav {
      display:none;
    }
    .imgC6 {
      display:none;
    }
    .imgC6Mobile {
      display:block;
    }
  }
  
</style>
</head>
<body>
 
  <!--Navbar-->
  <div class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand" href="homepagebody.html">STEAM center</a><!-- TODO insert logo here-->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navCollapse" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
      <div class="collapse navbar-collapse" id="navCollapse">
        <ul class="navbar-nav" style="margin-right: auto;">
          <li class="nav-item"><a class="nav-link" href="map.html">Explore</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Courses</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Projects</a></li>
          <li class="nav-item"><a class="nav-link" href="events.html">Events</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Clubs</a></li>
          <li class="nav-item"><a class="nav-link" href="https://forms.gle/gd7vYT3f4PCQ2vCa6">Feedback</a></li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="#">Search</a></li>
          <!-- TODO replace "Search" text with icon later -->
        </ul>
      </div>
    </div>
  </div>
  <!--Navbar end-->
  <br>
  <div class="bodyContent">
  <h1>Navigation Map</h1>
  <br>
  <br>
  <p>The STEAM Center is a quite a large building, but do you ever feel as though you get lost in it? Here to help is the interactive map provided below. Hover over (or click) each one of the rooms to find more information about the selected room, such as what class they are currently teaching, their room number, the corresponding course guidelines, and more.</p>
  <br>
    <nav aria-label="..." style="margin-top:9px;" id="floorNavMobile">
      <ul class="pagination justify-content-center">
        <li class="page-item active nav1C"><a class="page-link nav1">Floor 1</a></li>
        <li class="page-item nav2C"><a class="page-link nav2">Floor 2</a></li>
        <li class="page-item nav3C"><a class="page-link nav3">Scroll disable <span class="scrollToggle">off</span></a></li>
      </ul>
      </nav>
    <div class="zoomImgC">
    	<img loading="lazy" class="zoomImg" src="https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen3.jpeg" alt="map picture">
    </div>
    <div class="close">X</div>
    <!--This is for the normal map images-->
    <div class="imgC" id="imgC">
    <div class="imgC2">
    <img id="enlarge" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/enlarge.png" />
    </div>
    <div class="imgC3">
      <img id="zoomIn" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/zoomInFixed.png" />
    </div>
    <div class="imgC4">
      <img id="zoomOut" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/zoomOutFixed.png" />
    </div>
    <div class="legendC">
      <div class="topBar"><div class="topText">LEGEND</div><div class="closeInfo">X</div></div>
      <ul>
        <li class="admR">Administration</li>
        <li class="colR">Collaborative</li>
        <li class="sciR">Science</li>
        <li class="tchR">Technology</li>
        <li class="engR">Engineering</li>
        <li class="artR">Art</li>
        <li class="matR">Mathematics</li>
        <li class="clsR">Clear</li>
      </ul>
    </div>
    <div class="imgC6">
      <img id="moreInfo" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/more.png" />
    </div>
    <div class="imgC6Mobile">
      <img id="moreInfo" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/more.png" />
    </div>
    <!--Note- imgC7 is just a container in this instance, doesn't do anything special-->
    <div class="imgC7">
      <div class="roomToggle" id="A001">A001</div><div class="roomToggle" id="A002">A002</div><div class="roomToggle" id="A003">A003</div><div class="roomToggle" id="A004">A004</div><div class="roomToggle" id="A005">A005</div><div class="roomToggle" id="A006">A006</div><div class="roomToggle" id="A007">A007</div><div class="roomToggle" id="A008">A008</div><div class="roomToggle" id="A009">A009</div><div class="roomToggle" id="A010">A010</div><div class="roomToggle" id="A011">A011</div><div class="roomToggle" id="A012">A012</div><div class="roomToggle" id="A013">A013</div><div class="roomToggle" id="A014">A014</div>
      <div class="roomToggle" id="A015">A015</div><div class="roomToggle" id="A016">A016</div><div class="roomToggle" id="A017">A017</div><div class="roomToggle" id="A018">A018</div><div class="roomToggle" id="A019">A019</div><div class="roomToggle" id="A020">A020</div><div class="roomToggle" id="A021">A021</div><div class="roomToggle" id="A022">A022</div><div class="roomToggle" id="A023">A023</div>
    </div>
    <!--Note- this is for floor 2 of the map-->
    <div class="imgC8">
      <div class="roomToggle" id="B001">B001</div><div class="roomToggle" id="B002">B002</div><div class="roomToggle" id="B003">B003</div><div class="roomToggle" id="B004">B004</div><div class="roomToggle" id="B005">B005</div><div class="roomToggle" id="B006">B006</div><div class="roomToggle" id="B007">B007</div><div class="roomToggle" id="B008">B008</div><div class="roomToggle" id="B009">B009</div><div class="roomToggle" id="B010">B010</div><div class="roomToggle" id="B011">B011</div>
      <div class="roomToggle" id="B012">B012</div><div class="roomToggle" id="B013">B013</div><div class="roomToggle" id="B014">B014</div><div class="roomToggle" id="B015">B015</div><div class="roomToggle" id="B016">B016</div><div class="roomToggle" id="B017">B017</div><div class="roomToggle" id="B018">B018</div>
    </div>
    <div class="imgC9">
      <h2>STEAM CENTER | FLOOR <span class="floorNum">1</span></h2>
    </div>
    <div class="leftBox"></div>
    <div class="imgC5"> <!--Not really an image, but uses similar styling-->
      <div class="infoData">
      	<div>Room: <span class="roomNum">???</span></div>
        <div>Course: <a class="courseNm" href="#">???</a></div> <!--This A tag would link to the courses page-->
        <!--Note- do not delete the div tags around the img tags- necessary for grid layout-->
        <div><div class="orgsTxt">Clubs/ Orgs: </div><div class="orgImgsC"><div class="orgImgs"><div class="orgImgsPopup"><div class="orgImgsPopTxt">Robotics Club</div></div><div class="orgImgsObj" id="icon1"><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div><div class="orgImgsPopup"><div class="orgImgsPopTxt">Computer Science Honor Society</div></div><div class="orgImgsObj" id="icon2"><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div><div class="orgImgsPopup"><div class="orgImgsPopTxt">Computer Science Club</div></div><div class="orgImgsObj" id="icon3"><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div></div></div></div>
        <div>Teacher: <span class="teacherNm">???</span></div>
   		</div>
    </div>
    <img id="iMap" loading="lazy" src="STEAM-map-01.svg" />
    </div>
    <div class="legendCMobile">
      <div class="topBar"><div class="topText" style="padding-left:10px;">LEGEND</div><div class="closeInfoMobile">X</div></div>
      <ul>
        <li class="admR">Administration</li>
        <li class="colR">Collaborative</li>
        <li class="sciR">Science</li>
        <li class="tchR">Technology</li>
        <li class="engR">Engineering</li>
        <li class="artR">Art</li>
        <li class="matR">Mathematics</li>
        <li class="clsR">Clear</li>
      </ul>
    </div>
    <div class="leftBoxMobile"></div>
    <div class="imgC5Mobile"> <!--Not really an image, but uses similar styling-->
      <div class="infoDataMobile">
      	<div>Room: <span class="roomNum">#???</span></div>
        <div>Course: <a class="courseNm" href="#">???</a></div> <!--This A tag would link to the courses page-->
        <div>Teacher: <span class="teacherNm">???</span></div>
        <!--Note- do not delete the div tags around the img tags- necessary for grid layout-->
        <div style="margin-bottom:5px;">Clubs/ Orgs: </div>
        <div class="orgImgsC"><div class="orgImgsMobile"><div class="orgImgsObjMobile" style="background-color:#6a4c93;"><div class="insideTxt">AHS Robotics Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div></div><div class="orgImgsObjMobile" style="background-color:#1982c4;"><div class="insideTxt">Computer Science Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div></div><div class="orgImgsObjMobile" style="background-color:#6a4c93;"><div class="insideTxt">AHS Robotics Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div></div><div class="orgImgsObjMobile" style="background-color:#6a4c93;"><div class="insideTxt">AHS Robotics Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div></div><div class="orgImgsObjMobile" style="background-color:#6a4c93;"><div class="insideTxt">AHS Robotics Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div></div><div class="orgImgsObjMobile" style="background-color:#6a4c93;"><div class="insideTxt">AHS Robotics Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div></div><div class="orgImgsObjMobile" style="background-color:#1982c4;"><div class="insideTxt">Computer Science Club</div><div class="insideImg"><img class="iconImgMobile" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div></div></div></div>
   		</div>
    </div>
    
  <nav aria-label="..." style="margin-top:9px;" id="floorNav">
  <ul class="pagination justify-content-center">
    <li class="page-item active nav1C"><a class="page-link nav1">Floor 1</a></li>
    <li class="page-item nav2C"><a class="page-link nav2">Floor 2</a></li>
  </ul>
  </nav>
    
  </div> <!--End of bodyContent div-->
  
<script>
var scrollTop =  window.pageYOffset || document.documentElement.scrollTop; 
var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
var iMap = document.getElementById("iMap");
var iconImages = document.getElementsByClassName("iconImg");
var iconImagesMobile = document.getElementsByClassName("iconImgMobile");
var imgC5 = document.getElementsByClassName("imgC5");
var leftBox = document.getElementsByClassName("leftBox");
var imgC = document.getElementById("imgC");
var orgImgsObjMobileArr = document.getElementsByClassName("orgImgsObjMobile");
var insideTxtArr = document.getElementsByClassName("insideTxt");
var orgImgsPopupArr = document.getElementsByClassName("orgImgsPopup");
var orgImgsPopTxtArr = document.getElementsByClassName("orgImgsPopTxt");
var orgImgsObjArr = document.getElementsByClassName("orgImgsObj");
var imgC5Height = imgC5[0].offsetHeight;
var map1Active = true;
var smallSide;
var cont=false;
var scaleAmt = 1.0;
var originalX = 0;
var originalY = 0;
var diffX = 0;
var diffY = 0;
var viewWidth = window.innerWidth;
var viewHeight = window.innerHeight;
var paddingI = parseInt($(".roomToggle").css("padding"));
var fontSizeI = parseInt($(".roomToggle").css("font-size"));
var cPadding; 
var cFontSize;
var scrollToggleActive = false;
//var origdiffPinchY = 0;
//these are flags that show which side to stop (or none if 0)
var stopLeft = 0;
var stopRight = 0;
var stopTop = 0;
var stopBottom = 0;
//these variables are the number of rooms that have a room 
//number with the prefix 'a', 'b', etc.
var aRoomNum = 23;
var bRoomNum = 0;
var dataArr;
//these variables are used to indicate if the icon popup width should be set or not
var icon1SetW = true;
var icon2SetW = true;
var icon3SetW = true;
var stopHoverTrig1 = false;
var stopHoverTrig2 = false;
var stopHoverTrig3 = false;

function sleep(milliseconds) {
  const date = Date.now();
  let currentDate = null;
  do {
    currentDate = Date.now();
  } while (currentDate - date < milliseconds);
} 
function centerImgsAndText() {
/*This code is used to automatically center the organization images*/
for (var i=0; i<iconImages.length; i++) {
	smallSide = Math.min(iconImages[i].naturalWidth,iconImages[i].naturalHeight);
  if (smallSide == iconImages[i].naturalWidth) { //we know the width is the smallest dim
    iconImages[i].style.marginBottom = `${(iconImages[i].naturalHeight-iconImages[i].naturalWidth)/2}px`;
    iconImages[i].style.width="100%";
    iconImages[i].style.height="auto";
  }
  else if (smallSide == iconImages[i].naturalHeight) { //we know the height is the smallest dim
  	iconImages[i].style.marginRight = `${(iconImages[i].naturalWidth-iconImages[i].naturalHeight)/2}px`;
    iconImages[i].style.height="100%";
    iconImages[i].style.width="auto";
  }
  }
  for (var i=0; i<iconImagesMobile.length; i++) {
	smallSide = Math.min(iconImagesMobile[i].naturalWidth,iconImagesMobile[i].naturalHeight);
  if (smallSide == iconImagesMobile[i].naturalWidth) { //we know the width is the smallest dim
    iconImagesMobile[i].style.marginBottom = `${(iconImagesMobile[i].naturalHeight-iconImagesMobile[i].naturalWidth)/2}px`;
    iconImagesMobile[i].style.width="100%";
    iconImagesMobile[i].style.height="auto";
  }
  else if (smallSide == iconImagesMobile[i].naturalHeight) { //we know the height is the smallest dim
  	iconImagesMobile[i].style.marginRight = `${(iconImagesMobile[i].naturalWidth-iconImagesMobile[i].naturalHeight)/2}px`;
    iconImagesMobile[i].style.height="100%";
    iconImagesMobile[i].style.width="auto";
  }
  }
  for (var index=0; index<insideTxtArr.length; index++) {
  insideTxtArr[index].style.paddingTop =`${(insideTxtArr[index].parentElement.offsetHeight - insideTxtArr[index].offsetHeight)/2}px`;
  }
}
function recenterTxt() {
  for (var index=0; index<insideTxtArr.length; index++) {
  insideTxtArr[index].style.paddingTop =`${(insideTxtArr[index].parentElement.offsetHeight - insideTxtArr[index].offsetHeight)/2}px`;
  }
}
function stopDefault(e) {
  e.preventDefault();
}
var wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';
function disableScroll() {
  window.addEventListener('DOMMouseScroll', stopDefault, {passive: false});
  window.addEventListener(wheelEvent, stopDefault, {passive: false});
  window.addEventListener('touchmove', stopDefault, {passive: false});
}
function enableScroll() {
  window.removeEventListener('DOMMouseScroll', stopDefault, {passive: false});
  window.removeEventListener(wheelEvent, stopDefault, {passive: false}); 
  window.removeEventListener('touchmove', stopDefault, {passive: false});
}

//this gets the data from the map.json file
/*fetch('https://roboticsdev1584.github.io/STEAM-Center-App/map.json').then(function(resp) {
  return resp.json();
}).then(function(data) {
  for (var index2 = 0; index2 < data.roomInfo.length; index2++) {
    var instance = data.roomInfo[index2];
    console.log(instance.name + ", " + instance.age);
  }
});*/
/*
fetch('https://roboticsdev1584.github.io/STEAM-Center-App/map.json').then(function(resp) {
  return resp.json();
  }).then(function(data) {});
*/

fetch('https://roboticsdev1584.github.io/STEAM-Center-App/map.json').then(function(resp) {
  return resp.json();
  }).then(function(data) {
  dataArr = data.roomInfo; //this can now be indexed using [index] notation
  //this is for loading default data to the infobar
  $(".courseNm").text(`${dataArr[0].course}`);
  $(".courseNm").attr("href", `${dataArr[0].courseLink}`);
  $(".teacherNm").text(`${dataArr[0].teacher}`);
  $(".roomNum").text(`${dataArr[0].room}`);
  //this is used to clear all of the club/ organizations in the infobar
  $(".orgImgsObj").css("display", "none");
  $(".orgImgsObj").addClass("noShow");
  $(".orgImgsObjMobile").css("display", "none");
  $(".orgImgsObjMobile").addClass("noShow");

  var index=0;
  var tempCount = 0;
  var tempIndex2 = 0;
  var switchArr = false;
  var currentItem;
  //this is used to update the club/ organization info in the infobar
  for (var i=0; i<(dataArr[index].clubs.length + dataArr[index].organizations.length); i++) {
    tempIndex2 = i;
    //this helps it switch over to gathering data from the organizations array when ready
    if (tempIndex2 > dataArr[index].clubs.length-1) {
      tempIndex2 -= dataArr[index].clubs.length;
      switchArr = true;
    }
    //this only fills in data 3 times- for desktop users
    if (tempCount < 3) {
      if (!switchArr) { //on the clubs array
        currentItem = dataArr[index].clubs[tempIndex2];
      }
      else { //on the organizations array
        currentItem = dataArr[index].organizations[tempIndex2];
      }
      orgImgsPopTxtArr[tempCount].innerHTML = currentItem.name;
        if (currentItem.profileImg == "url") { iconImages[tempCount].src = "https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" }
        else { iconImages[tempCount].src = currentItem.profileImg; }
        //this changes the background color of the popup to match the department- science, technology, etc.
        switch(currentItem.dept) { 
          case "s":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#8ac926";
            break;
          case "t":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#1982c4";
            break;
          case "e":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#6a4c93";
            break;
          case "a":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#ffca3a";
            break;
          case "m":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#ff595e";
            break;
          default: 
            orgImgsPopupArr[tempCount].style.backgroundColor = "black";
            break;
        }
        if (viewWidth > 820) { //if they are currently on a desktop, show these icons
          orgImgsObjArr[tempCount].style.display = "block";
          orgImgsObjArr[tempCount].classList.remove("noShow");
        }
    }
    //this only fills in data 7 times- for mobile users
    if (tempCount < 7) {
      if (!switchArr) { //on the clubs array
        currentItem = dataArr[index].clubs[tempIndex2];
      }
      else { //on the organizations array
        currentItem = dataArr[index].organizations[tempIndex2];
      }
      insideTxtArr[tempCount].innerHTML = currentItem.name;
        if (currentItem.profileImg == "url") { iconImagesMobile[tempCount].src = "https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" }
        else { iconImagesMobile[tempCount].src = currentItem.profileImg; }
        //this changes the background color of the popup to match the department- science, technology, etc.
        switch(currentItem.dept) { 
          case "s":
            orgImgsObjMobileArr[tempCount].style.backgroundColor = "#8ac926";
            break;
          case "t":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#1982c4";
            break;
          case "e":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#6a4c93";
            break;
          case "a":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#ffca3a";
            break;
          case "m":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#ff595e";
            break;
          default: 
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "black";
            break;
        }
        if (viewWidth < 821) { //if they are currently on mobile, show these icons
          orgImgsObjMobileArr[tempCount].style.display = "block";
          orgImgsObjMobileArr[tempCount].classList.remove("noShow");
        }
    }
    else {
      break;
    }
    tempCount++;
  }
  centerImgsAndText();
  recenterTxt();
  });
$(document).ready(function() {
  //$(".orgImgsPopup").css("width", `${parseInt($(".orgImgsPopTxt").width()) + 62}`);
  //for right now, this positions the room buttons
  /*for (var index3 = 0; index3 < dataArr.length; index3++) {
    $(`#${dataArr[index3].room}`).css("left", `${dataArr[index3].left}%`);
    $(`#${dataArr[index3].room}`).css("top", `${dataArr[index3].top}%`);
  }*/
$("#A001").css("left", `${7}%`);
$("#A001").css("top", `${55}%`);
$("#A002").css("left", `${12.5}%`);
$("#A002").css("top", `${47.5}%`);
$("#A003").css("left", `${17.5}%`);
$("#A003").css("top", `${39}%`);
$("#A004").css("left", `${24.5}%`);$("#A004").css("top", `${34}%`);$("#A005").css("left", `${31.5}%`);$("#A005").css("top", `${28}%`);$("#A006").css("left", `${38.5}%`);$("#A006").css("top", `${26}%`);$("#A007").css("left", `${45}%`);$("#A007").css("top", `${23}%`);$("#A008").css("left", `${50.7}%`);$("#A008").css("top", `${23}%`);$("#A009").css("left", `${57.5}%`);$("#A009").css("top", `${26}%`);$("#A010").css("left", `${64.2}%`);$("#A010").css("top", `${28}%`);$("#A011").css("left", `${71.7}%`);$("#A011").css("top", `${34}%`);$("#A012").css("left", `${78.5}%`);$("#A012").css("top", `${39}%`);$("#A013").css("left", `${83}%`);$("#A013").css("top", `${48}%`);$("#A014").css("left", `${89.2}%`);$("#A014").css("top", `${55}%`);$("#A015").css("left", `${24}%`);$("#A015").css("top", `${56}%`);$("#A016").css("left", `${32}%`);$("#A016").css("top", `${48}%`);$("#A017").css("left", `${41}%`);$("#A017").css("top", `${44.5}%`);$("#A018").css("left", `${52.5}%`);$("#A018").css("top", `${42}%`);$("#A019").css("left", `${62}%`);$("#A019").css("top", `${48}%`);$("#A020").css("left", `${69}%`);$("#A020").css("top", `${52}%`);$("#A021").css("left", `${75.2}%`);$("#A021").css("top", `${58}%`);$("#A022").css("left", `${79.5}%`);$("#A022").css("top", `${63}%`);$("#A023").css("left", `${87}%`);$("#A023").css("top", `${72}%`);
$("#B001").css("left", `${8.25}%`);$("#B001").css("top", `${54.5}%`);$("#B002").css("left", `${13}%`);$("#B002").css("top", `${47}%`);$("#B003").css("left", `${17}%`);$("#B003").css("top", `${41.5}%`);$("#B004").css("left", `${24}%`);$("#B004").css("top", `${32}%`);$("#B005").css("left", `${35}%`);$("#B005").css("top", `${28.2}%`);$("#B006").css("left", `${40.2}%`);$("#B006").css("top", `${26.5}%`);$("#B007").css("left", `${53.5}%`);$("#B007").css("top", `${26.5}%`);$("#B008").css("left", `${59}%`);$("#B008").css("top", `${28.2}%`);$("#B009").css("left", `${70}%`);$("#B009").css("top", `${32}%`);$("#B010").css("left", `${75.2}%`);$("#B010").css("top", `${43.5}%`);$("#B011").css("left", `${80.5}%`);$("#B011").css("top", `${50}%`);$("#B012").css("left", `${85}%`);$("#B012").css("top", `${57}%`);$("#B013").css("left", `${65}%`);$("#B013").css("top", `${43}%`);$("#B014").css("left", `${68}%`);$("#B014").css("top", `${53}%`);$("#B015").css("left", `${72.7}%`);$("#B015").css("top", `${58}%`);$("#B016").css("left", `${76.7}%`);$("#B016").css("top", `${62.5}%`);$("#B017").css("left", `${80}%`);$("#B017").css("top", `${68.5}%`);$("#B018").css("left", `${88.5}%`);$("#B018").css("top", `${76}%`);
leftBox[0].style.height = `${imgC5Height}px`;
  //this is necessary right before the organization image centering so that it always executes correctly
  sleep(20); 
  centerImgsAndText();
  recenterTxt();
});

$("img").on('dragstart', function(event) {event.preventDefault();});
$('img').bind('contextmenu', function(e) {return false;}); 

$(".orgImgsObj").hover(function() { //this function is for when the user is hovering
  //this makes sure that it is not annoying for the user if they click the icon to close
  if (!stopHoverTrig1 && !stopHoverTrig2 && !stopHoverTrig3 && !($(this).hasClass("noShow"))) {
  $(".orgImgsPopup").css("display", "none");
  $(this).prev().css("display", "block");
  //$(".orgImgsObj").css("display", "none");//45px to the right
  if ($(this).attr('id') == "icon1") {$("#icon2").css("display", "none");$("#icon3").css("display", "none");$(this).prev().css("left", `${0}px`);}
  else if ($(this).attr('id') == "icon2") {$("#icon3").css("display", "none");$(this).prev().css("left", `${45}px`);}
  else {$(this).prev().css("left", `${90}px`);}
  //$(this).css("display", "block");
  var baseWidth;
  if (($(this).attr('id') == "icon1") && icon1SetW) {
    baseWidth = parseInt($(this).prev().children().width());
    if (baseWidth > 80) {
      baseWidth += 65;
    }
    else if (baseWidth > 76) {
      baseWidth += 18;
    }
    $(this).prev().css("width", `${baseWidth + 95}`);
    icon1SetW = false;
  }
  else if (($(this).attr('id') == "icon2") && icon2SetW) {
    baseWidth = parseInt($(this).prev().children().width());
    if (baseWidth > 80) {
      baseWidth += 65;
    }
    else if (baseWidth > 76) {
      baseWidth += 18;
    }
    $(this).prev().css("width", `${baseWidth + 95}`);
    icon2SetW = false;
  }
  else if (($(this).attr('id') == "icon3") && icon3SetW) {
    baseWidth = parseInt($(this).prev().children().width());
    if (baseWidth > 80) {
      baseWidth += 65;
    }
    else if (baseWidth > 76) {
      baseWidth += 18;
    }
    $(this).prev().css("width", `${baseWidth + 95}`);
    icon3SetW = false;
  }
  }
}, function() {
  stopHoverTrig1 = false;
  stopHoverTrig2 = false;
  stopHoverTrig3 = false;
  var tempStop = true;
  $(".orgImgsPopup").hover(function(){tempStop = false;},function(){
    $(".orgImgsPopup").css("display", "none");
    $(".orgImgsObj").css("display", "block");
  });
  if (tempStop) {
    $(".orgImgsPopup").css("display", "none");
    $(".orgImgsObj").css("display", "block");
  }
});
$("#icon1").click(function() {
  //this is where the user is clicking the button to close the popup
    $(".orgImgsPopup").css("display", "none");
    $(".orgImgsObj").css("display", "block");
    stopHoverTrig1 = true;
});
$("#icon2").click(function() {
  //this is where the user is clicking the button to close the popup
    $(".orgImgsPopup").css("display", "none");
    $(".orgImgsObj").css("display", "block");
    stopHoverTrig2 = true;
});
$("#icon3").click(function() {
  //this is where the user is clicking the button to close the popup
    $(".orgImgsPopup").css("display", "none");
    $(".orgImgsObj").css("display", "block");
    stopHoverTrig3 = true;
});
$(".nav1").click(function() {
	iMap.src="STEAM-map-01.svg";
  $(".floorNum").text("1");
  //this is just used to clear the past class changes
  $(".nav1C").removeClass("active");
  $(".nav2C").removeClass("active");
  $(".nav1C").addClass("active");
  //this contains all of the 'a' rooms
  $(".imgC7").css("display", "block");
  //this contains all of the 'b' rooms
  $(".imgC8").css("display", "none");
  map1Active = true;
});
$(".nav2").click(function() {
	iMap.src="STEAM-map-02.svg";
  $(".floorNum").text("2");
    //this is just used to clear the past class changes
    $(".nav1C").removeClass("active");
    $(".nav2C").removeClass("active");
    $(".nav2C").addClass("active");
    $(".imgC7").css("display", "none");
    $(".imgC8").css("display", "block");
  map1Active = false;
});
$(".nav3").click(function() {
    if (!scrollToggleActive) { //turn on disable scrolling
      $(".nav3C").addClass("active");
      $(".scrollToggle").text("on");
      //scrollToggle
      disableScroll();
    }
    else { //turn off disable scrolling
      $(".nav3C").removeClass("active");
      $(".scrollToggle").text("off");
      enableScroll();
    }
    scrollToggleActive = !scrollToggleActive;
});
$(".imgC3").click(function() { //zoom in  //scrollToggle nav3
  scaleAmt+=1.0;
  if (scaleAmt > 5.0) {
    scaleAmt = 5.0;
  }
  if (scaleAmt != 1.0){
    cPadding = ((scaleAmt + paddingI)>8)? 8: scaleAmt + paddingI;
    cFontSize = ((scaleAmt*2 + fontSizeI)>20)? 20: scaleAmt*2 + fontSizeI;
    $(".roomToggle").css("padding", `${cPadding}px`);
    $(".roomToggle").css("font-size", `${cFontSize}px`);
    $(".roomToggle").css("z-index","1");
    var tempW;
      var tempH;
      for (var index3 = 0; index3 < dataArr.length; index3++) {
       tempW = viewWidth/118 - (viewWidth/10000);
       tempH = 4;
      if (viewWidth > 1900) {
        tempW -= 3.0;
        tempH = 7;
      }
      else if (viewWidth > 1800) {
        tempW -= 2.5;
        tempH = 7;
      }
      else if (viewWidth > 1700) {
        tempW -= 1.5;
        tempH = 7;
      }
      else if (viewWidth > 1600) {
        tempW -= 0.5;
        tempH = 7;
      }
      else if (viewWidth > 1500) {
        tempH = 7;
      }
      else if (viewWidth > 1050) {
        tempH = 6;
       }
       else if (viewWidth > 950) {
        tempH = 5;
       }
       else if (viewWidth > 850) {
        tempH = 4;
       }
       else if (viewWidth > 650) {
        tempH = 3.5;
       }
       else if (viewWidth > 550) {
        tempH = 3;
       }
       else if (viewWidth > 450) {
        tempH = 2.5;
       }
       else if (viewWidth > 0) {
        tempH = 2;
       }
        $(`#${dataArr[index3].room}`).css("left", `${(dataArr[index3].left)*scaleAmt+(iMap.getBoundingClientRect().left - imgC.getBoundingClientRect().left)/(tempW)+scaleAmt}%`);
        $(`#${dataArr[index3].room}`).css("top", `${(dataArr[index3].top)*scaleAmt+(iMap.getBoundingClientRect().top - imgC.getBoundingClientRect().top)/(tempH)}%`);
      }
  }
  iMap.style.transform = `scale(${scaleAmt})`;
  $(".imgC2").css("z-index","99");
  $(".imgC3").css("z-index","99");
  $(".imgC4").css("z-index","99");
  $(".leftBox").css("z-index","99");
  $(".imgC5").css("z-index","99");
  $(".imgC6").css("z-index","99");
  $(".imgC6Mobile").css("z-index","99");
  $(".legendC").css("z-index","99");
  $(".legendCMobile").css("z-index","99");
});
$(".imgC4").click(function() { //zoom out
  scaleAmt-=1.0;
  if (scaleAmt < 1.0) {
    scaleAmt = 1.0;
  }
  else if (scaleAmt == 1.0) {
  	iMap.style.marginLeft = `${0}px`;
    iMap.style.marginTop = `${0}px`;
    //this resets the roomToggle buttons to their initially-sized styling
    $(".roomToggle").css("padding", `${paddingI}px`);
    $(".roomToggle").css("font-size", `${fontSizeI}px`);
    for (var index3 = 0; index3 < dataArr.length; index3++) {
      $(`#${dataArr[index3].room}`).css("left", `${dataArr[index3].left}%`);
      $(`#${dataArr[index3].room}`).css("top", `${dataArr[index3].top}%`);     
    }
  }
  if (scaleAmt != 1.0) {
    cPadding = ((scaleAmt + paddingI)>8)? 8: scaleAmt + paddingI;
    cFontSize = ((scaleAmt*2 + fontSizeI)>20)? 20: scaleAmt*2 + fontSizeI;
    $(".roomToggle").css("padding", `${cPadding}px`);
    $(".roomToggle").css("font-size", `${cFontSize}px`);
    $(".roomToggle").css("z-index","1");
    var tempW;
      var tempH;
      for (var index3 = 0; index3 < dataArr.length; index3++) {
       tempW = viewWidth/118 - (viewWidth/10000);
       tempH = 4;
      if (viewWidth > 1900) {
        tempW -= 3.0;
        tempH = 7;
      }
      else if (viewWidth > 1800) {
        tempW -= 2.5;
        tempH = 7;
      }
      else if (viewWidth > 1700) {
        tempW -= 1.5;
        tempH = 7;
      }
      else if (viewWidth > 1600) {
        tempW -= 0.5;
        tempH = 7;
      }
      else if (viewWidth > 1500) {
        tempH = 7;
      }
      else if (viewWidth > 1050) {
        tempH = 6;
       }
       else if (viewWidth > 950) {
        tempH = 5;
       }
       else if (viewWidth > 850) {
        tempH = 4;
       }
       else if (viewWidth > 650) {
        tempH = 3.5;
       }
       else if (viewWidth > 550) {
        tempH = 3;
       }
       else if (viewWidth > 450) {
        tempH = 2.5;
       }
       else if (viewWidth > 0) {
        tempH = 2;
       }
        $(`#${dataArr[index3].room}`).css("left", `${(dataArr[index3].left)*scaleAmt+(iMap.getBoundingClientRect().left - imgC.getBoundingClientRect().left)/(tempW)+scaleAmt}%`);
        $(`#${dataArr[index3].room}`).css("top", `${(dataArr[index3].top)*scaleAmt+(iMap.getBoundingClientRect().top - imgC.getBoundingClientRect().top)/(tempH)}%`);
      }
  }
  iMap.style.transform = `scale(${scaleAmt})`;
  $(".imgC2").css("z-index","99");
  $(".imgC3").css("z-index","99");
  $(".imgC4").css("z-index","99");
  $(".leftBox").css("z-index","99");
  $(".imgC5").css("z-index","99");
  $(".imgC6").css("z-index","99");
  $(".imgC6Mobile").css("z-index","99");
  $(".legendC").css("z-index","99");
  $(".legendCMobile").css("z-index","99");
});
$(".imgC6").click(function() { //open more info bar
  $(".imgC6").css("display","none");
  $(".legendC").css("display","block");
  $(".legendC").css("z-index","99");
  $(".roomToggle").css("z-index","1");
});
$(".closeInfo").click(function() { //close more info bar
  $(".legendC").css("display","none");
  $(".imgC6").css("display","block");
});
$(".imgC6Mobile").click(function() { //open more info bar
  $(".imgC6Mobile").css("display","none");
  $(".legendCMobile").css("display","block");
  $(".legendCMobile").css("z-index","99");
  $(".roomToggle").css("z-index","1");
});
$(".closeInfoMobile").click(function() { //close more info bar
  $(".legendCMobile").css("display","none");
  $(".imgC6Mobile").css("display","block");
});
$(".imgC").on("touchstart mousedown", function(e) {
  imgC.style.height = `${imgC.offsetHeight}px`;
  cont = true;
  if (viewWidth < 821) { //if they are currently on mobile, get these coordinates
    originalX = e.originalEvent.touches[0].pageX;
    originalY = e.originalEvent.touches[0].pageY;
  }
  else {
    originalX = e.pageX;
    originalY = e.pageY;
  }
});
$("body").on("touchend mouseup", function(){
  cont = false;
});
$(".imgC").on("touchmove mousemove", function(event){
    try {
    var currentX;
    var currentY;
    if (viewWidth < 821) { //if they are currently on mobile, get these coordinates
      currentX = event.originalEvent.touches[0].pageX;
      currentY = event.originalEvent.touches[0].pageY;
    }
    else {
      currentX = event.pageX;
      currentY = event.pageY;
    }
    if (scaleAmt == 1.0) {
    	diffX = 0;
      diffY = 0;
      $(".roomToggle").css("z-index","1");
      for (var index3 = 0; index3 < dataArr.length; index3++) {
        $(`#${dataArr[index3].room}`).css("left", `${dataArr[index3].left}%`);
        $(`#${dataArr[index3].room}`).css("top", `${dataArr[index3].top}%`);
      }
    }
    else {
      $(".roomToggle").css("z-index","1");
      var tempW;
      var tempH;
      for (var index3 = 0; index3 < dataArr.length; index3++) {
       tempW = viewWidth/118 - (viewWidth/10000);
       tempH = 4;
      if (viewWidth > 1900) {
        tempW -= 3.0;
        tempH = 7;
      }
      else if (viewWidth > 1800) {
        tempW -= 2.5;
        tempH = 7;
      }
      else if (viewWidth > 1700) {
        tempW -= 1.5;
        tempH = 7;
      }
      else if (viewWidth > 1600) {
        tempW -= 0.5;
        tempH = 7;
      }
      else if (viewWidth > 1500) {
        tempH = 7;
      }
      else if (viewWidth > 1050) {
        tempH = 6;
       }
       else if (viewWidth > 950) {
        tempH = 5;
       }
       else if (viewWidth > 850) {
        tempH = 4;
       }
       else if (viewWidth > 650) {
        tempH = 3.5;
       }
       else if (viewWidth > 550) {
        tempH = 3;
       }
       else if (viewWidth > 450) {
        tempH = 2.5;
       }
       else if (viewWidth > 0) {
        tempH = 2;
       }
        $(`#${dataArr[index3].room}`).css("left", `${(dataArr[index3].left)*scaleAmt+(iMap.getBoundingClientRect().left - imgC.getBoundingClientRect().left)/(tempW)+scaleAmt}%`);
        $(`#${dataArr[index3].room}`).css("top", `${(dataArr[index3].top)*scaleAmt+(iMap.getBoundingClientRect().top - imgC.getBoundingClientRect().top)/(tempH)}%`);
      }
    }
    iMap.style.marginLeft = `${diffX}px`;
    iMap.style.marginTop = `${diffY}px`;
    if (cont && scaleAmt!=1.0) {
    //stop the map from trying to move left
    if (stopLeft == 1 && (-(originalX - currentX)/-1)<0) {}
    //stop the map from trying to move right
    else if (stopRight == 1 && (-(originalX - currentX)/-1)>0) {}
    else {diffX += -(originalX - currentX);}
    //stop the map from trying to move up
    if (stopTop == 1 && (-(originalY - currentY)/-1)<0) {}
    //stop the map from trying to move down
    else if (stopBottom == 1 && (-(originalY - currentY)/-1)>0) {}
    else {diffY += -(originalY - currentY);}
    iMap.style.marginLeft = `${diffX}px`;
    iMap.style.marginTop = `${diffY}px`;
    if ((iMap.getBoundingClientRect().left - imgC.getBoundingClientRect().left) > 0) {
        //set the trigger to make it stop moving left
        stopLeft = 1; //stop moving left
    }
    else {
      stopLeft = 0;
    }
    if ((iMap.getBoundingClientRect().right - imgC.getBoundingClientRect().right) < 0) {
        //set the trigger to make it stop moving right
        stopRight = 1; //stop moving right
    }
    else {
      stopRight = 0;
    }
    if ((iMap.getBoundingClientRect().top - imgC.getBoundingClientRect().top) > 0) {
        //set the trigger to make it stop moving up
        stopTop = 1; //stop moving up
    }
    else {
      stopTop = 0; 
    }
    if ((iMap.getBoundingClientRect().bottom - imgC.getBoundingClientRect().bottom) < 0) {
        //set the trigger to make it stop moving down
        stopBottom = 1; //stop moving down
    }
    else {
      stopBottom = 0;
    }
  }
    originalX = currentX;
    originalY = currentY;
}
catch (err) {
  //if the user hovers over the map before dataArr gets its data from 
  //map.json, then an error will be thrown- this gets rid of the error
  console.log("Don't hover over the map so soon!");
}
});
$(".roomToggle").click(function() {
  var thisId = $(this).attr('id');
  var index = 0;
  //this gets the first char of the string
  if (thisId[0] == 'A') { 
    index += parseInt(thisId[2])*10;
    index += parseInt(thisId[3]);
    //this makes sure that the index is 0-based
    index--; 
  }
  else if (thisId[0] == 'B') {
    //this advances the index to start off past all of the 'A' rooms
    index+=aRoomNum;
    index += parseInt(thisId[2])*10;
    index += parseInt(thisId[3]);
    //this makes sure that the index is 0-based
    index--; 
  }
  $(".courseNm").text(`${dataArr[index].course}`);
  $(".courseNm").attr("href", `${dataArr[index].courseLink}`);
  $(".teacherNm").text(`${dataArr[index].teacher}`);
  $(".roomNum").text(`${dataArr[index].room}`);
  //this is used to clear all of the club/ organizations in the infobar
  $(".orgImgsObj").css("display", "none");
  $(".orgImgsObj").addClass("noShow");
  $(".orgImgsObjMobile").css("display", "none");
  $(".orgImgsObjMobile").addClass("noShow");

  var tempCount = 0;
  var tempIndex2 = 0;
  var switchArr = false;
  var currentItem;
  //this is used to update the club/ organization info in the infobar
  for (var i=0; i<(dataArr[index].clubs.length + dataArr[index].organizations.length); i++) {
    tempIndex2 = i;
    //this helps it switch over to gathering data from the organizations array when ready
    if (tempIndex2 > dataArr[index].clubs.length-1) {
      tempIndex2 -= dataArr[index].clubs.length;
      switchArr = true;
    }
    //this only fills in data 3 times- for desktop users
    if (tempCount < 3) {
      if (!switchArr) { //on the clubs array
        currentItem = dataArr[index].clubs[tempIndex2];
      }
      else { //on the organizations array
        currentItem = dataArr[index].organizations[tempIndex2];
      }
      orgImgsPopTxtArr[tempCount].innerHTML = currentItem.name;
        if (currentItem.profileImg == "url") { iconImages[tempCount].src = "https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" }
        else { iconImages[tempCount].src = currentItem.profileImg; }
        //this changes the background color of the popup to match the department- science, technology, etc.
        switch(currentItem.dept) { 
          case "s":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#8ac926";
            break;
          case "t":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#1982c4";
            break;
          case "e":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#6a4c93";
            break;
          case "a":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#ffca3a";
            break;
          case "m":
            orgImgsPopupArr[tempCount].style.backgroundColor = "#ff595e";
            break;
          default: 
            orgImgsPopupArr[tempCount].style.backgroundColor = "black";
            break;
        }
        if (viewWidth > 820) { //if they are currently on a desktop, show these icons
          orgImgsObjArr[tempCount].style.display = "block";
          orgImgsObjArr[tempCount].classList.remove("noShow");
        }
    }
    //this only fills in data 7 times- for mobile users
    if (tempCount < 7) {
      if (!switchArr) { //on the clubs array
        currentItem = dataArr[index].clubs[tempIndex2];
      }
      else { //on the organizations array
        currentItem = dataArr[index].organizations[tempIndex2];
      }
      insideTxtArr[tempCount].innerHTML = currentItem.name;
        if (currentItem.profileImg == "url") { iconImagesMobile[tempCount].src = "https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" }
        else { iconImagesMobile[tempCount].src = currentItem.profileImg; }
        //this changes the background color of the popup to match the department- science, technology, etc.
        switch(currentItem.dept) { 
          case "s":
            orgImgsObjMobileArr[tempCount].style.backgroundColor = "#8ac926";
            break;
          case "t":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#1982c4";
            break;
          case "e":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#6a4c93";
            break;
          case "a":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#ffca3a";
            break;
          case "m":
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "#ff595e";
            break;
          default: 
          orgImgsObjMobileArr[tempCount].style.backgroundColor = "black";
            break;
        }
        if (viewWidth < 821) { //if they are currently on mobile, show these icons
          orgImgsObjMobileArr[tempCount].style.display = "block";
          orgImgsObjMobileArr[tempCount].classList.remove("noShow");
        }
    }
    else {
      break;
    }
    tempCount++;
    recenterTxt();
  }
  centerImgsAndText();
  recenterTxt();
});
$(".admR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  $("#A004").css("background-color", "#faa25f");
  $("#A011").css("background-color", "#faa25f");
  $("#A015").css("background-color", "#faa25f");
  $("#B004").css("background-color", "#faa25f");
  $("#B009").css("background-color", "#faa25f");
  $("#B017").css("background-color", "#faa25f");
});
$(".colR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  $("#A016").css("background-color", "#faf49c");
  $("#A017").css("background-color", "#faf49c");
  $("#A018").css("background-color", "#faf49c");
  $("#A023").css("background-color", "#faf49c");
  $("#B018").css("background-color", "#faf49c");
});
$(".sciR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#8ac926");
});
$(".tchR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#1982c4");
});
$(".engR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#6a4c93");
});
$(".artR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#ffca3a");
});
$(".matR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#ff595e");
});
$(".clsR").click(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
});
$(".admR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  $("#A004").css("background-color", "#faa25f");
  $("#A011").css("background-color", "#faa25f");
  $("#A015").css("background-color", "#faa25f");
  $("#B004").css("background-color", "#faa25f");
  $("#B009").css("background-color", "#faa25f");
  $("#B017").css("background-color", "#faa25f");
});
$(".colR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  $("#A016").css("background-color", "#faf49c");$("#A016").css("color", "black");
  $("#A017").css("background-color", "#faf49c");$("#A017").css("color", "black");
  $("#A018").css("background-color", "#faf49c");$("#A018").css("color", "black");
  $("#A023").css("background-color", "#faf49c");$("#A023").css("color", "black");
  $("#B018").css("background-color", "#faf49c");$("#B017").css("color", "black");
});
$(".sciR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#8ac926");
});
$(".tchR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#1982c4");
});
$(".engR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#6a4c93");
});
$(".artR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#ffca3a");
});
$(".matR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
  //$("#A004").css("background-color", "#ff595e");
});
$(".clsR").hover(function() {
  for (var index4 = 0; index4 < dataArr.length; index4++) {
    //this resets the color for all of the roomToggles
    $(`#${dataArr[index4].room}`).css("background-color", "#34a1e5");$(`#${dataArr[index4].room}`).css("color", "white");
  }
});
/*This is for all of the zoom map stuff*/
$("#enlarge").click(function(){
  scrollTop =  window.pageYOffset || document.documentElement.scrollTop;
  scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
  			if (map1Active) {
        	$(".zoomImg").attr("src", "https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen3.jpeg");
        }
  			else {
        	$(".zoomImg").attr("src", "https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen4.jpeg");
        }
        window.onscroll = function() { 
            window.scrollTo(scrollLeft, scrollTop); //this will disable scrolling
        };
        $(".zoomImgC").css({"display":"block"});
        $(".close").css({"display":"block"});
  			$("body").css({"overflow":"hidden"});
        $(".imgC2").css("z-index","1");
        $(".imgC3").css("z-index","1");
        $(".imgC4").css("z-index","1");
        $(".leftBox").css("z-index","1");
        $(".imgC5").css("z-index","1");
        $(".imgC6").css("z-index","1");
        $(".imgC6Mobile").css("z-index","1");
        $(".legendC").css("z-index","1");
        $(".legendCMobile").css("z-index","1");
     });
     $(".zoomImgC").click(function(){
        window.onscroll = function() {}; //enable scrolling
        $(".zoomImgC").css({"display":"none"});
        $(".close").css({"display":"none"});
       $("body").css({"overflow":"auto"});
       //$(".roomToggle").css("z-index","1");
       $(".legendC").css("z-index","99");
       $(".legendCMobile").css("z-index","99");
     });
     $(".close").click(function(){
        window.onscroll = function() {}; //enable scrolling
        $(".zoomImgC").css({"display":"none"});
        $(".close").css({"display":"none"});
       $("body").css({"overflow":"auto"});
       //$(".roomToggle").css("z-index","1");
       $(".legendC").css("z-index","99");
       $(".legendCMobile").css("z-index","99");
     });

</script>
</body>
</html>






