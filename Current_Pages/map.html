<!DOCTYPE HTML>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
<style>
body {
	user-select:none;
  font-family: 'Montserrat', sans-serif;
}
  .bodyContent {
  	margin-left:7%;
    margin-right:7%;
  }
  p {
  	font-size:16px; /*note that 16px is the default font size for p tags*/
  }
  img {
  	width:100%;
    height:auto;
  }
  .imgC {
  	position:relative;
  	background-color:black; /*used to be #a6a6a6*/
    padding:1px; /*used to be 7px*/
    max-width:1300px;
    margin-right:auto;
    margin-left:auto;
    overflow:hidden;
  }
  .page-link {
  	cursor:pointer;
  }
  #enlarge {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #enlarge:hover {
    filter: brightness(230%);
    cursor: pointer;
  }
  /*.circleS {
  	line-height: 6vmin;
    text-align:center;
  	background-color:#34a1e5;
    color:white;
    width:6vmin;
    min-width:30px;
    max-width:60px;
    height:6vmin;
    min-height:30px;
    max-height:60px;
  }
  .circleS:hover {
  	filter: brightness(50%);
  }
  .circleS p {
  	line-height: 1.5;
  	display: inline-block;
  	vertical-align: middle;
  }*/
  #zoomIn {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #zoomIn:hover {
    filter: brightness(90%);
    cursor: pointer;
  }
  #zoomOut {
  	width:6vmin;
    min-width:30px;
    max-width:60px;
    border-radius:5px;
  }
  #zoomOut:hover {
    filter: brightness(90%);
    cursor: pointer;
  }
  .imgC2 {
  	position:absolute;
    top:15px;
    right:15px;
  }
  .imgC3 {
  	position:absolute;
    bottom:30%; /*this used to be 100px*/
    right:15px;
  }
  .imgC4 {
  	position:absolute;
    /*bottom:10%; /*this used to be 50px*/
    right:15px;
    bottom: calc(30% - 10vmin);
  }
  .imgC5 {
  	position:absolute;
    display:block;
    bottom:0px;
    left:60px;
    width:75%;
    max-width:600px;
    background-color:rgba(0,0,0,0.7);
    color:white;
    padding:10px;
    border-bottom:1px solid black;
  }
  .infoData { /*this has the grid that contains the room data*/
  	display:grid;
    grid-template-columns:50% 50%;
    height:auto;
    width:100%;
  }
  #orgImgs {
  	display:grid;
    /*grid-template-columns:33% 33% 33%;*/
    grid-template-columns:auto auto auto;
    width:100%;
    height:auto;
    float:left;
  }
  #orgImgs img{
    object-fit:cover;
    /*transform: scale(5);*/
  }
  #orgImgs div{
  	width:40px;
    height:40px;
    border-radius:50%;
    overflow:hidden;
    background-color:black;
    margin-right:5px;
  }
  #orgImgs div:last-child {
  	margin-right:0px;
  }
  .orgImgsC {
  	display:inline-block;
    overflow:hidden;
  }
  .orgsTxt {
    display:block;
    padding-top:8px;
    float:left;
    margin-right:6px;
  }
  .leftBox {
    position:absolute;
    left:0px;
    bottom:0px;
    display:block;
    background-color:#34a1e5;
    width:60px;
    height:50px;
    border-left:1px solid black;
    border-bottom:1px solid black;
  }
  /*Note- this is for all of the zoom img stuff*/
          .zoomImgC {
            position:fixed;
            width:100%;
            height:100%;
            background-color:rgba(0,0,0,0.85);
            z-index:99;
            top: 0%;
            left: 0%;
            display:none;
            text-align:center;
        }
        .zoomImg{
            position:absolute;
            left:50%;
            top:50%;
            /*margin-top:-40vmin;*/
            transform: translate(-50%, -50%);
            grid-column:2 / 3;
            height:auto;
            width:97%;
          	max-width:1000px;
        }
        .close {
            position:fixed;
            top:5%;
            right:40px;
            color:white;
            z-index:99;
            font-size:30px;
            font-weight:bold;
            display:none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
            padding:4px;
        }
  .close:hover {
  	filter:brightness(60%);
    cursor: pointer;
  }
  .imgC5Mobile {
    display:none;
  }
  .infoDataMobile {
    text-align:center;
    margin-left:auto;
    margin-right:auto;
  }
  .orgImgsMobile {
    width:100%;
    height:auto;
  }
  .orgImgsMobile img{
    object-fit:cover;
    /*transform: scale(5);*/
  }
  .orgImgsMobile div{
  	width:40px;
    height:40px;
    border-radius:50%;
    overflow:hidden;
    background-color:black;
    margin-right:5px;
  }
  .orgImgsMobile div:last-child {
  	margin-right:0px;
  }
  #floorNavMobile {
    display:none;
  }
  #iMap:hover {cursor: -webkit-grab; cursor: grab;}
  #iMap:active {cursor: -webkit-grabbing; cursor: grabbing;}
  @media (max-height: 500px){
		.close {
			filter:brightness(10%);
		}
  }
  @media (min-width: 750px){
		.imgC3 {
			right:30px;
		}
    .imgC4 {
			right:30px;
		}
  }
  @media (max-width:600px){
    .leftBox {
      display:none;
    }
    .imgC5{
      width:80%;
      left:0px;
      display:none;
    }
    .imgC5Mobile {
      display:block;
      margin-right:auto;
      margin-left:auto;
      background-color:rgba(0,0,0,0.7);
      color:white;
      padding-top:7px;
      padding-left:10px;
    }
    #floorNavMobile {
      display:block;
    }
    #floorNav {
      display:none;
    }
  }
  
</style>
</head>
<body>
 
  <!--Navbar-->
  <div class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand" href="#">STEAM center</a><!-- TODO insert logo here-->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navCollapse" aria-label="Toggle navigation">
        <!-- FIXME collapse for mobile isn't working for some reason, needs to be fixed later -->
      <span class="navbar-toggler-icon"></span>
    </button>
      <div class="collapse navbar-collapse" id="navCollapse">
        <ul class="navbar-nav" style="margin-right: auto;">
          <li class="nav-item"><a class="nav-link" href="#">Explore</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Courses</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Projects</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Events</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Clubs</a></li>
          <li class="nav-item"><a class="nav-link" href="#">Feedback</a></li>
        </ul>
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="#">Search</a></li>
          <!-- TODO replace "Search" text with icon later -->
        </ul>
      </div>
    </div>
  </div>
  <!--Navbar end-->
  <br>
  <div class="bodyContent">
  <h1>Navigation Map</h1>
  <br>
  <br>
  <p>The STEAM Center is a quite a large building, but do you ever feel as though you get lost in it? Here to help is the interactive map provided below. Hover over (or click) each one of the rooms to find more information about the selected room, such as what class they are currently teaching, their room number, the corresponding course guidelines, and more.</p>
    <br>
    <nav aria-label="..." style="margin-top:9px;" id="floorNavMobile">
      <ul class="pagination justify-content-center">
        <li class="page-item active nav1C"><a class="page-link nav1">Floor 1</a></li>
        <li class="page-item nav2C"><a class="page-link nav2">Floor 2</a></li>
      </ul>
      </nav>
    <div class="zoomImgC">
    	<img loading="lazy" class="zoomImg" src="https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen3.jpeg" alt="map picture">
    </div>
    <div class="close">X</div>
    <!--This is for the normal map images-->
    <div class="imgC" id="imgC">
    <div class="imgC2">
    <img id="enlarge" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/enlarge.png" />
    </div>
    <div class="imgC3">
      <img id="zoomIn" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/zoomInFixed.png" />
    </div>
    <div class="imgC4">
      <img id="zoomOut" loading="lazy" src="https://roboticsdev1584.github.io/STEAM-Center-App/zoomOutFixed.png" />
    </div>
    <div class="leftBox"></div>
    <div class="imgC5"> <!--Not really an image, but uses similar styling-->
      <div class="infoData">
      	<div>Room: <span id="roomNum">#???</span></div>
        <div>Course: <a id="courseNm" href="#">???</a></div> <!--This A tag would link to the courses page-->
        <!--Note- do not delete the div tags around the img tags- necessary for grid layout-->
        <div><div class="orgsTxt">Orgs: </div><div class="orgImgsC"><div id="orgImgs"><div><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div><div><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div><div><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div></div></div></div>
        <div>Teacher: <span id="teacherNm">???</span></div>
   		</div>
    </div>
    <img id="iMap" loading="lazy" src="https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen3.jpeg" />
    </div>
    <div class="imgC5Mobile"> <!--Not really an image, but uses similar styling-->
      <div class="infoDataMobile">
      	<div>Room: <span id="roomNum">#???</span></div>
        <div>Course: <a id="courseNm" href="#">???</a></div> <!--This A tag would link to the courses page-->
        <!--Note- do not delete the div tags around the img tags- necessary for grid layout-->
        <div>Orgs: </div>
        <div class="orgImgsC"><div class="orgImgsMobile"><div><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/robotIcon.png" /></div><div><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div><div><img class="iconImg" src="https://roboticsdev1584.github.io/STEAM-Center-App/cs_club_test_image.jpg" /></div></div></div>
        <div>Teacher: <span id="teacherNm">???</span></div>
   		</div>
    </div>
    
  <nav aria-label="..." style="margin-top:9px;" id="floorNav">
  <ul class="pagination justify-content-center">
    <li class="page-item active nav1C"><a class="page-link nav1">Floor 1</a></li>
    <li class="page-item nav2C"><a class="page-link nav2">Floor 2</a></li>
  </ul>
  </nav>
    
  </div> <!--End of bodyContent div-->
  
<script>
var scrollTop =  window.pageYOffset || document.documentElement.scrollTop; 
var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
var iMap = document.getElementById("iMap");
var iconImages = document.getElementsByClassName("iconImg");
var imgC5 = document.getElementsByClassName("imgC5");
var leftBox = document.getElementsByClassName("leftBox");
var imgC = document.getElementById("imgC");
var imgC5Height = imgC5[0].offsetHeight;
var map1Active = true;
var smallSide;
var cont=false;
var scaleAmt = 1.0;
var originalX = 0;
var originalY = 0;
var diffX = 0;
var diffY = 0;
//these are flags that show which side to stop (or none if 0)
var stopLeft = 0;
var stopRight = 0;
var stopTop = 0;
var stopBottom = 0;

leftBox[0].style.height = `${imgC5Height}px`;

/*This code is used to automatically center the organization images*/
for (var i=0; i<iconImages.length; i++) {
	smallSide = Math.min(iconImages[i].naturalWidth,iconImages[i].naturalHeight);
  if (smallSide == iconImages[i].naturalWidth) { //we know the width is the smallest dim
    iconImages[i].style.marginBottom = `${(iconImages[i].naturalHeight-iconImages[i].naturalWidth)/2}px`;
    iconImages[i].style.width="100%";
    iconImages[i].style.height="auto";
  }
  else if (smallSide == iconImages[i].naturalHeight) { //we know the height is the smallest dim
  	iconImages[i].style.marginRight = `${(iconImages[i].naturalWidth-iconImages[i].naturalHeight)/2}px`;
    iconImages[i].style.height="100%";
    iconImages[i].style.width="auto";
  }
}

$("img").on('dragstart', function(event) {event.preventDefault();});
$('img').bind('contextmenu', function(e) {return false;}); 
  
$(".nav1").click(function() {
	iMap.src="https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen3.jpeg";
  //this is just used to clear the past class changes
  $(".nav1C").removeClass("active");
  $(".nav2C").removeClass("active");
  $(".nav1C").addClass("active");
  map1Active = true;
});
$(".nav2").click(function() {
	iMap.src="https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen4.jpeg";
    //this is just used to clear the past class changes
    $(".nav1C").removeClass("active");
    $(".nav2C").removeClass("active");
    $(".nav2C").addClass("active");
  map1Active = false;
});
$(".imgC3").click(function() { //zoom in
  scaleAmt+=1.0;
  if (scaleAmt > 5.0) {
    scaleAmt = 5.0;
  }
  iMap.style.transform = `scale(${scaleAmt})`;
  $(".imgC2").css("z-index","99");
  $(".imgC3").css("z-index","99");
  $(".imgC4").css("z-index","99");
  $(".leftBox").css("z-index","99");
  $(".imgC5").css("z-index","99");
});
$(".imgC4").click(function() { //zoom out
  scaleAmt-=1.0;
  if (scaleAmt < 1.0) {
    scaleAmt = 1.0;
  }
  else if (scaleAmt == 1.0) {
  	iMap.style.marginLeft = `${0}px`;
    iMap.style.marginTop = `${0}px`;
  }
  iMap.style.transform = `scale(${scaleAmt})`;
  $(".imgC2").css("z-index","99");
  $(".imgC3").css("z-index","99");
  $(".imgC4").css("z-index","99");
  $(".leftBox").css("z-index","99");
  $(".imgC5").css("z-index","99");
});
$(".imgC").mousedown(function(e) {
  imgC.style.height = `${imgC.offsetHeight}px`;
  cont = true;
  originalX = e.pageX;
  originalY = e.pageY;
});
$("body").mouseup(function(){
  cont = false;
});
  $(".imgC").mousemove(function(event){
    var currentX = event.pageX;
    var currentY = event.pageY;
    if (scaleAmt == 1.0) {
    	diffX = 0;
      diffY = 0;
    }
    iMap.style.marginLeft = `${diffX}px`;
    iMap.style.marginTop = `${diffY}px`;
    
    if (cont && scaleAmt!=1.0) {
    //stop the map from trying to move left
    if (stopLeft == 1 && (-(originalX - currentX)/-1)<0) {}
    //stop the map from trying to move right
    else if (stopRight == 1 && (-(originalX - currentX)/-1)>0) {}
    else {diffX += -(originalX - currentX);}
    //stop the map from trying to move up
    if (stopTop == 1 && (-(originalY - currentY)/-1)<0) {}
    //stop the map from trying to move down
    else if (stopBottom == 1 && (-(originalY - currentY)/-1)>0) {}
    else {diffY += -(originalY - currentY);}
    iMap.style.marginLeft = `${diffX}px`;
    iMap.style.marginTop = `${diffY}px`;
    if ((iMap.getBoundingClientRect().left - imgC.getBoundingClientRect().left) > 0) {
        //set the trigger to make it stop moving left
        stopLeft = 1; //stop moving left
    }
    else {
      stopLeft = 0;
    }
    if ((iMap.getBoundingClientRect().right - imgC.getBoundingClientRect().right) < 0) {
        //set the trigger to make it stop moving right
        stopRight = 1; //stop moving right
    }
    else {
      stopRight = 0;
    }
    if ((iMap.getBoundingClientRect().top - imgC.getBoundingClientRect().top) > 0) {
        //set the trigger to make it stop moving up
        stopTop = 1; //stop moving up
    }
    else {
      stopTop = 0; 
    }
    if ((iMap.getBoundingClientRect().bottom - imgC.getBoundingClientRect().bottom) < 0) {
        //set the trigger to make it stop moving down
        stopBottom = 1; //stop moving down
    }
    else {
      stopBottom = 0;
    }
  }
    originalX = currentX;
    originalY = currentY;
});
/*This is for all of the zoom map stuff*/
$("#enlarge").click(function(){
  scrollTop =  window.pageYOffset || document.documentElement.scrollTop;
  scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
  			if (map1Active) {
        	$(".zoomImg").attr("src", "https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen3.jpeg");
        }
  			else {
        	$(".zoomImg").attr("src", "https://texasschoolarchitecture.org/wp-content/uploads/2020/09/allen4.jpeg");
        }
        window.onscroll = function() { 
            window.scrollTo(scrollLeft, scrollTop); //this will disable scrolling
        };
        $(".zoomImgC").css({"display":"block"});
        $(".close").css({"display":"block"});
  			$("body").css({"overflow":"hidden"});
        $(".imgC2").css("z-index","1");
        $(".imgC3").css("z-index","1");
        $(".imgC4").css("z-index","1");
        $(".leftBox").css("z-index","1");
        $(".imgC5").css("z-index","1");
     });
     $(".close").click(function(){
        window.onscroll = function() {}; //enable scrolling
        $(".zoomImgC").css({"display":"none"});
        $(".close").css({"display":"none"});
       $("body").css({"overflow":"auto"});
     });

</script>
</body>
</html>






